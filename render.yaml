databases:
  - name: slacker-news-db
    databaseName: slacker_news
    user: slacker_news_user
    plan: free
    region: oregon
services:
  - type: cron
    name: slacker-news-stories
    runtime: python
    repo: https://github.com/posthello-code/slacker-news-server
    plan: starter
    envVars:
      - fromGroup: slacker-news
    region: oregon
    buildCommand: pip install -r requirements.txt
    startCommand: python -m cron.stories
    schedule: "0 */2 * * *"
  - type: cron
    name: slacker-news-comments
    runtime: python
    repo: https://github.com/posthello-code/slacker-news-server
    plan: starter
    envVars:
      - fromGroup: slacker-news
    region: oregon
    buildCommand: pip install -r requirements.txt
    startCommand: python -m cron.comments
    schedule: "2 */2 * * *"
  - type: web
    name: slacker-news-server
    runtime: python
    repo: https://github.com/posthello-code/slacker-news-server
    plan: starter
    envVars:
      - fromGroup: slacker-news
    region: oregon
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn start:app
    healthCheckPath: /
version: "1"
